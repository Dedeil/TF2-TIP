VertexLitGeneric
{
	$basetexture "models/player/items/all_class/pumkin_hat"
	$bumpmap "models/player/items/all_class/pumkin_hat_normal"

	$lightwarptexture "models/player/pyro/pyro_lightwarp"

	$detail "models/player/items/all_class/pumkin_hat_glow"
	$detailblendmode 5
	$detailscale 1

	$phong 1
	$phongfresnelranges "[0.25 1 4]"
	$phongexponent 10
	$phongboost 9

	$rimlight 1
	$rimlightexponent 4
	$rimlightboost 0.5

	$selfillum 1
	$selfillumfresnel 1
	$selfillumfresnelminmaxexp "[0.2 1 12]"
	$selfillumtint "[2 0.20 1]"

	$cloakpassenabled 1

	$yellow 0

	$half 0.5
	$invulnexponent 1
	$invulnexponentfading 11
	$invulnexponentfull 53
	$invulnexponentoutput 1
	$invulnfmax 1
	$invulnfmaxfading .5
	$invulnfmaxfull 1
	$invulnfmaxoutput 1
	$invulnlevel 0
	$invulnphong 1
	$invulnphongfading 0
	$invulnphongfull 1
	$invulnphongoutput 1

	<DX90
	{
		$selfillum "0"
	}

	Proxies
	{
		Sine
		{
			sinemax 1
			sinemin .25
			sineperiod 2
			resultvar "$detailblendfactor"
		}

		weapon_invis
		{
		}

		AnimatedTexture
		{
			animatedtexturevar "$detail"
			animatedtextureframenumvar "$detailframe"
			animatedtextureframerate 30
		}

		YellowLevel
		{
			resultVar "$yellow"
		}

		Equals
		{
			srcVar1 "$yellow"
			resultVar "$color2"
		}

		LessOrEqual
		{
			srcVar1 "$invulnlevel"
			srcVar2 "$half"
			lessEqualVar "$invulnphongfading"
			greaterVar "$invulnphongfull"
			resultVar "$invulnphongoutput"
		}

		LessOrEqual
		{
			srcVar1 "$invulnlevel"
			srcVar2 "$half"
			lessEqualVar "$invulnfmaxfading"
			greaterVar "$invulnfmaxfull"
			resultVar "$invulnfmaxoutput"
		}

		LessOrEqual
		{
			srcVar1 "$invulnlevel"
			srcVar2 "$half"
			lessEqualVar "$invulnexponentfading"
			greaterVar "$invulnexponentfull"
			resultVar "$invulnexponentoutput"
		}

		Sine
		{
			resultVar "$invulnfmax"
			sineperiod .8
			sinemin "$invulnfmaxoutput"
			sinemax 6
		}

		Sine
		{
			resultVar "$invulnphong"
			sineperiod 0.3
			sinemin "$invulnphongoutput"
			sinemax 1
		}

		Sine
		{
			resultVar "$invulnexponent"
			sineperiod 1.7
			sinemin "$invulnexponentoutput"
			sinemax 12
		}

		Sine
		{
			sineperiod .2
			sinemin 1
			sinemax 50
			resultVar "$rimlightexponent"
		}

		Sine
		{
			sineperiod 1.4
			sinemin 0
			sinemax 22
			resultVar "$rimlightboost"
		}

		Equals
		{
			srcVar1 "$invulnexponent"
			resultVar "$selfillumfresnelminmaxexp[2]"
		}

		Equals
		{
			srcVar1 "$invulnfmax"
			resultVar "$selfillumfresnelminmaxexp[1]"
		}

		Equals
		{
			srcVar1 "$invulnphong"
			resultVar "$phongboost"
		}
	}
}